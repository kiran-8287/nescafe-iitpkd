/*! For license information please see 775.6fa5dc3e.js.LICENSE.txt */
"use strict";(self.webpackChunknescafe_restaurant=self.webpackChunknescafe_restaurant||[]).push([[775],{1775(e,a,s){s.r(a),s.d(a,{default:()=>g});var t=s(6540),l=s(5570),r=s(8449),n=s(4207);const i=(0,n.A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var o=s(1697),c=s(3954),d=s(4905),m=s(8686),x=s(7078);const u=(0,n.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var h=s(2762),p=s(4848);const b=["student","staff","professor"],g=()=>{(0,l.Zp)();const[e,a]=(0,t.useState)({name:"",email:"",password:"",role:"student",hostel:""}),[s,n]=(0,t.useState)(!1),[g,f]=(0,t.useState)(""),[y,j]=(0,t.useState)(!1),v=e=>a(a=>({...a,[e.target.name]:e.target.value})),[k,N]=(0,t.useState)(!1);return y?(0,p.jsx)("div",{className:"min-h-screen bg-[#FFF8E1] flex items-center justify-center p-6",children:(0,p.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-10 text-center max-w-sm w-full",children:[(0,p.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-5",children:(0,p.jsx)(i,{size:40,className:"text-green-500"})}),(0,p.jsx)("h2",{className:"text-2xl font-black text-[#3E2723] mb-2",children:"Check Your Email!"}),(0,p.jsxs)("p",{className:"text-gray-500 text-sm leading-relaxed",children:["We sent a confirmation link to ",(0,p.jsx)("span",{className:"font-bold text-[#3E2723]",children:e.email}),". Confirm it, then sign in."]}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsx)(l.N_,{to:"/login",className:"inline-block w-full bg-[#3E2723] text-white py-3.5 rounded-2xl font-bold text-center hover:bg-[#5D4037] transition-all shadow-md active:scale-95",children:"Go to Sign In"}),(0,p.jsxs)("button",{onClick:async()=>{N(!0);const{error:a}=await r.N.auth.resend({type:"signup",email:e.email});N(!1),a?toast.error(a.message):toast.success("Confirmation link sent! Check your inbox (or spam).")},disabled:k,className:"w-full bg-white text-[#3E2723] border-2 border-[#3E2723] py-3.5 rounded-2xl font-bold text-center hover:bg-[#FFF8E1] transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:[k?(0,p.jsx)(o.A,{size:16,className:"animate-spin"}):(0,p.jsx)(c.A,{size:16}),k?"Resending...":"Resend Email"]})]})]})}):(0,p.jsx)("div",{className:"min-h-screen bg-[#FFF8E1] flex items-center justify-center p-4",children:(0,p.jsxs)("div",{className:"w-full max-w-sm",children:[(0,p.jsxs)("div",{className:"text-center mb-8",children:[(0,p.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[#3E2723] rounded-2xl mb-4 shadow-lg",children:(0,p.jsx)(d.A,{size:32,className:"text-[#D4AF37]"})}),(0,p.jsx)("h1",{className:"text-3xl font-black text-[#3E2723]",children:"Join the Brew"}),(0,p.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Create your Nescafe IITPKD account"})]}),(0,p.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-7 space-y-5",children:[g&&(0,p.jsx)("div",{className:"bg-red-50 border border-red-100 text-red-600 text-sm font-medium p-3 rounded-xl",children:g}),(0,p.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),f(""),n(!0),e.password.length<6)return f("Password must be at least 6 characters."),void n(!1);const s=e.email.toLowerCase();if("student"===e.role&&!s.endsWith("@smail.iitpkd.ac.in"))return f("Students must use their @smail.iitpkd.ac.in email."),void n(!1);try{console.log("Attempting sign up for:",e.email);const{data:a,error:s}=await r.N.auth.signUp({email:e.email,password:e.password,options:{data:{name:e.name,role:e.role,hostel:e.hostel}}});n(!1),s?(console.error("Supabase Sign Up Error:",s),f(s.message)):(console.log("Sign Up Success:",a),j(!0))}catch(e){n(!1),console.error("Caught Exception during Sign Up:",e),f(e.message||"An unexpected error occurred. Please check your connection.")}},className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-wider block mb-1.5",children:"Full Name"}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(m.A,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300"}),(0,p.jsx)("input",{type:"text",name:"name",value:e.name,onChange:v,required:!0,placeholder:"Your full name",className:"w-full pl-10 pr-4 py-3.5 rounded-2xl border-2 border-gray-100 focus:border-[#D4AF37] outline-none text-sm font-medium transition-all"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-wider block mb-1.5",children:"Email"}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(c.A,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300"}),(0,p.jsx)("input",{type:"email",name:"email",value:e.email,onChange:v,required:!0,placeholder:"student"===e.role?"you@smail.iitpkd.ac.in":"you@example.com",className:"w-full pl-10 pr-4 py-3.5 rounded-2xl border-2 border-gray-100 focus:border-[#D4AF37] outline-none text-sm font-medium transition-all"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-wider block mb-1.5",children:"Password"}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(x.A,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300"}),(0,p.jsx)("input",{type:"password",name:"password",value:e.password,onChange:v,required:!0,placeholder:"Min. 6 characters",className:"w-full pl-10 pr-4 py-3.5 rounded-2xl border-2 border-gray-100 focus:border-[#D4AF37] outline-none text-sm font-medium transition-all"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-wider block mb-1.5",children:"Role"}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(u,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300"}),(0,p.jsx)("select",{name:"role",value:e.role,onChange:v,className:"w-full pl-10 pr-4 py-3.5 rounded-2xl border-2 border-gray-100 focus:border-[#D4AF37] outline-none text-sm font-medium transition-all appearance-none bg-white font-bold",children:b.map(e=>(0,p.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-wider block mb-1.5",children:["Hostel / Block ",(0,p.jsx)("span",{className:"text-gray-300 normal-case font-medium",children:"(optional)"})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(h.A,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-300"}),(0,p.jsx)("input",{type:"text",name:"hostel",value:e.hostel,onChange:v,placeholder:"e.g. Block A",className:"w-full pl-10 pr-4 py-3.5 rounded-2xl border-2 border-gray-100 focus:border-[#D4AF37] outline-none text-sm font-medium transition-all"})]})]}),(0,p.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-[#3E2723] text-white py-4 rounded-2xl font-black text-base hover:bg-[#5D4037] transition-all flex items-center justify-center gap-2 shadow-lg active:scale-90 disabled:opacity-60 disabled:cursor-not-allowed",children:s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.A,{size:20,className:"animate-spin"})," Creating account..."]}):"Create Account â˜•"})]}),(0,p.jsxs)("p",{className:"text-center text-sm text-gray-400",children:["Already have an account?"," ",(0,p.jsx)(l.N_,{to:"/login",className:"font-bold text-[#3E2723] hover:text-[#D4AF37] transition-colors",children:"Sign In"})]})]})]})})}},2762(e,a,s){s.d(a,{A:()=>t});const t=(0,s(4207).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},1697(e,a,s){s.d(a,{A:()=>t});const t=(0,s(4207).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7078(e,a,s){s.d(a,{A:()=>t});const t=(0,s(4207).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}}]);
//# sourceMappingURL=775.6fa5dc3e.js.map