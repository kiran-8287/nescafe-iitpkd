"use strict";(self.webpackChunknescafe_restaurant=self.webpackChunknescafe_restaurant||[]).push([[600],{2749(e,t,s){s.r(t),s.d(t,{default:()=>u});var a=s(6540),i=s(5570),r=s(892),l=s(5773),n=s(7235),c=s(6069),o=s(8635),d=s(4685),x=s(9605),m=s(6485),p=s(888);const f=s.p+"static/media/coffee.6ee90c22.mp4";var h=s(4848);const u=()=>{const{clearCart:e}=(0,x._)(),t=(0,i.zy)(),[s,u]=a.useState(null),[b,g]=a.useState(!0),{orderId:w,orderMode:y,hostelDetails:j}=t.state||{};(0,a.useEffect)(()=>{if(e(),w){v();const e=m.N.channel(`order-${w}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${w}`},e=>{u(e.new),p.Ay.success(`Order Status: ${e.new.status.toUpperCase()}!`,{icon:"☕"})}).subscribe();return()=>{m.N.removeChannel(e)}}const t=Date.now()+2e3,s=()=>{(0,d.A)({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#3E2723","#D4AF37","#FFF8E1"]}),(0,d.A)({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#3E2723","#D4AF37","#FFF8E1"]}),Date.now()<t&&requestAnimationFrame(s)};if(s(),navigator.vibrate)try{navigator.vibrate([10,50,10])}catch(e){}},[w]);const v=async()=>{try{const{data:e,error:t}=await m.N.from("orders").select("*").eq("id",w).single();if(t)throw t;u(e)}catch(e){console.error("Error fetching order:",e)}finally{g(!1)}};return(0,h.jsxs)("div",{className:"min-h-screen bg-[#3E2723] text-[#FAF6F1] flex flex-col items-center justify-center p-6 text-center relative overflow-hidden font-sans",children:[(0,h.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#5D4037 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,h.jsxs)("div",{className:"relative mb-8 z-10",children:[(0,h.jsxs)(r.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:150,damping:15},className:"w-48 h-48 rounded-full overflow-hidden border-4 border-white/20 shadow-2xl relative",children:[(0,h.jsx)("video",{src:f,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-125"}),(0,h.jsx)("div",{className:"absolute inset-0 bg-black/20"})]}),(0,h.jsx)(r.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:"absolute -bottom-2 -right-2 w-16 h-16 bg-green-500 rounded-full flex items-center justify-center shadow-xl border-4 border-[#3E2723]",children:(0,h.jsx)(l.A,{size:28,className:"text-white",strokeWidth:4})})]}),(0,h.jsx)(r.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl font-black mb-2 font-serif",children:"Order Confirmed!"}),(0,h.jsx)(r.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/80 mb-8 max-w-xs mx-auto font-medium",children:"ready"===s?.status?"Your order is ready! Come get it while it's hot.":"delivered"===s?.status?"Order delivered. Hope it helps you survive the day!":"delivery"===y?"Order placed. Now go touch grass. Just kidding — finish that assignment.":"Your order is being prepared. Please collect it from the counter."}),(0,h.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 w-full max-w-sm mb-8 border border-white/10",children:[(0,h.jsxs)("div",{className:"flex justify-between mb-4 pb-4 border-b border-white/10",children:[(0,h.jsx)("span",{className:"text-white/60 text-sm font-bold uppercase tracking-wider",children:"Order ID"}),(0,h.jsxs)("span",{className:"font-mono font-black text-[#D4AF37]",children:["#",w?.slice(0,8).toUpperCase()||"N/A"]})]}),(0,h.jsxs)("div",{className:"flex justify-between mb-4 pb-4 border-b border-white/10",children:[(0,h.jsx)("span",{className:"text-white/60 text-sm font-bold uppercase tracking-wider",children:"Status"}),(0,h.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest "+("ready"===s?.status?"bg-purple-500 text-white shadow-[0_0_15px_rgba(168,85,247,0.5)]":"delivered"===s?.status?"bg-green-500 text-white":"bg-blue-500 text-white animate-pulse"),children:s?.status||"Processing"})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center",children:[(0,h.jsxs)("span",{className:"text-white/60 text-sm font-bold flex items-center gap-2 uppercase tracking-wider",children:[(0,h.jsx)(n.A,{size:16})," Est. Time"]}),(0,h.jsx)("span",{className:"font-black text-[#D4AF37]",children:"delivery"===y?"~20-30 mins":"~10-15 mins"})]}),"delivery"===y&&j&&(0,h.jsxs)("div",{className:"flex justify-between items-start text-left",children:[(0,h.jsxs)("span",{className:"text-white/60 text-sm font-bold flex items-center gap-2 shrink-0 uppercase tracking-wider",children:[(0,h.jsx)(c.A,{size:16})," Delivering To"]}),(0,h.jsxs)("span",{className:"font-black text-white text-right text-sm",children:[j.block,(0,h.jsx)("br",{}),(0,h.jsxs)("span",{className:"text-white/60 font-medium",children:["Room ",j.room]})]})]})]})]}),(0,h.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"flex flex-col gap-4 w-full max-w-sm relative z-10",children:[(0,h.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,h.jsx)("p",{className:"text-white/60 text-xs font-bold uppercase tracking-widest text-center",children:"Explore some fun facts while your order is being prepared ;)"}),(0,h.jsx)(i.N_,{to:"/fun-facts",className:"w-full bg-[#D4AF37] text-[#3E2723] py-4 rounded-2xl font-black hover:bg-[#c19d2f] transition-all flex items-center justify-center gap-2 shadow-lg active:scale-95",children:"Fun Facts Time!"})]}),(0,h.jsxs)(i.N_,{to:"/",className:"w-full bg-white text-[#3E2723] py-4 rounded-2xl font-black hover:bg-gray-100 transition-all flex items-center justify-center gap-2 shadow-lg active:scale-95",children:["Back to Menu ",(0,h.jsx)(o.A,{size:18})]})]})]})}}}]);
//# sourceMappingURL=600.3c7040c5.js.map