/*! For license information please see 59.ce2d81fd.js.LICENSE.txt */
"use strict";(self.webpackChunknescafe_restaurant=self.webpackChunknescafe_restaurant||[]).push([[59],{6059(e,t,s){s.r(t),s.d(t,{default:()=>j});var r=s(6540),a=s(5164),n=s(892),l=s(7589),i=s(6443),o=s(1181),c=s(7870),d=s(1089),x=s(8445),m=s(6241),u=s(697);const h=(0,s(4207).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var p=s(9605),g=s(429),f=s(5570),b=s(888),w=s(8728),v=s(3117),y=s(4848);const j=({onBack:e})=>{const t=(0,f.Zp)(),{user:s}=(0,g.A)(),{cartItems:j,addItem:N,updateQuantity:E}=(0,p._)(),[k,A]=(0,r.useState)(""),[C,F]=(0,r.useState)(""),[I,D]=(0,r.useState)("Tea and Coffee"),[z,B]=(0,r.useState)(null),[S,T]=(0,r.useState)(!1),[L,$]=(0,r.useState)(!0),[Y,M]=(0,r.useState)([]),O=(0,r.useRef)(null),R=["Tea and Coffee","Cold Beverages","Maggie","Sandwich"];(0,r.useEffect)(()=>{const e=setTimeout(()=>$(!1),800);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{const e=setTimeout(()=>F(k),150);return()=>clearTimeout(e)},[k]),(0,r.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){D(e.target.id);const t=document.getElementById(`full-btn-${e.target.id}`);t&&O.current&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}})},{root:null,rootMargin:"-100px 0px -70% 0px",threshold:0});return R.forEach(t=>{const s=document.getElementById(`full-${t}`);s&&e.observe(s)}),()=>e.disconnect()},[L]);const P=e=>j.filter(t=>t.id===e).reduce((e,t)=>e+t.quantity,0),X=(e,r,a)=>{if(e.stopPropagation(),!s)return void(0,b.Ay)(e=>(0,y.jsxs)("div",{className:"flex flex-col gap-3 p-1 font-sans",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)(i.A,{size:18,className:"text-[#D4AF37]"}),(0,y.jsx)("p",{className:"text-sm font-bold text-[#3E2723]",children:"Login required to order"})]}),(0,y.jsx)("p",{className:"text-xs text-gray-500",children:"Sign in to start building your cart!"}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)("button",{onClick:()=>{b.Ay.dismiss(e.id),t("/login")},className:"flex-1 bg-[#3E2723] text-white py-2 rounded-xl text-xs font-black shadow-md active:scale-95 transition-all",children:"Sign In"}),(0,y.jsx)("button",{onClick:()=>b.Ay.dismiss(e.id),className:"px-3 py-2 text-gray-400 text-xs font-bold hover:text-gray-600 transition-colors",children:"Later"})]})]}),{duration:5e3,position:"top-center",style:{borderRadius:"24px",padding:"16px",border:"1px solid #F5E6D3"}});const n=j.findIndex(e=>e.id===r.id);if(a>P(r.id))if(-1===n){const t=0===j.length;N(r),((e,t)=>{const s=Date.now(),r=e.clientX,a=e.clientY;let n=window.innerWidth/2+50,l=window.innerHeight-40;const i=document.getElementById("mini-cart-icon"),o=document.getElementById("mobile-cart-icon"),c=document.getElementById("desktop-cart-icon"),d=i||o||c;if(d){const e=d.getBoundingClientRect();n=e.left+e.width/2,l=e.top+e.height/2}M(e=>[...e,{id:s,x:r,y:a,targetX:n,targetY:l,imageUrl:t}]),setTimeout(()=>M(e=>e.filter(e=>e.id!==s)),1e3)})(e,r.image),t?b.Ay.success("Great choice. Your future self approves.",{icon:"✨",style:{background:"#3E2723",color:"#fff"}}):b.Ay.success(`${r.name} added!`,{icon:"☕"})}else E(n,a);else E(n,a)},_=l.W7.filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase())),q=e=>{switch(e?.toLowerCase()){case"bestseller":return(0,y.jsxs)("span",{className:"flex items-center bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider",children:[(0,y.jsx)(o.A,{size:10,className:"mr-1 fill-current"})," Bestseller"]});case"new":return(0,y.jsxs)("span",{className:"flex items-center bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider",children:[(0,y.jsx)(c.A,{size:10,className:"mr-1 fill-current"})," New"]});case"fresh":return(0,y.jsxs)("span",{className:"flex items-center bg-green-100 text-green-600 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider",children:[(0,y.jsx)(d.A,{size:10,className:"mr-1 fill-current"})," Fresh"]});default:return null}};return(0,y.jsxs)("div",{className:"min-h-screen bg-[#FFF8E1] pt-20 pb-32 relative overflow-hidden",children:[(0,y.jsx)(a.N,{children:Y.map(e=>(0,y.jsx)(n.P.div,{initial:{x:e.x-20,y:e.y-20,scale:1,opacity:1},animate:{x:[e.x-20,e.x+50,e.targetX-24],y:[e.y-20,e.y-100,e.targetY-24],scale:[1,1.2,.2],opacity:[1,1,0]},transition:{duration:.8,ease:"easeInOut"},className:"fixed pointer-events-none z-[100] w-12 h-12 rounded-full border-4 border-white shadow-2xl overflow-hidden",children:(0,y.jsx)("img",{src:e.imageUrl,alt:"",className:"w-full h-full object-cover"})},e.id))}),(0,y.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:L?(0,y.jsx)(v.A,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"text-center mb-10",children:[(0,y.jsx)("h2",{className:"font-serif text-4xl md:text-5xl font-bold text-[#3E2723] mb-3",children:"The Full Experience"}),(0,y.jsx)("p",{className:"text-[#5D4037] font-mono text-xs sm:text-sm",children:"// every byte is handcrafted for perfection"})]}),(0,y.jsxs)("div",{className:"sticky top-20 z-30 bg-[#FFF8E1]/95 backdrop-blur-md py-4 -mx-4 px-4 sm:mx-0 sm:px-0 font-sans",children:[(0,y.jsxs)("div",{className:"relative mb-4",children:[(0,y.jsx)(x.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,y.jsx)("input",{type:"text",placeholder:"Search everything...",value:k,onChange:e=>A(e.target.value),className:"w-full bg-white border-2 border-transparent focus:border-[#D4AF37] rounded-2xl py-3 pl-12 pr-4 shadow-md transition-all outline-none font-bold"})]}),(0,y.jsx)("div",{ref:O,className:"flex overflow-x-auto gap-3 mt-8 p-1.5 pb-3 scrollbar-hide snap-x",children:R.map(e=>(0,y.jsx)("button",{id:`full-btn-${e}`,onClick:()=>(e=>{const t=document.getElementById(`full-${e}`);if(t){const e=-140,s=t.getBoundingClientRect().top+window.pageYOffset+e;window.scrollTo({top:s,behavior:"smooth"})}})(e),className:"snap-center px-6 py-2 rounded-full font-bold text-sm whitespace-nowrap transition-all duration-300 border-2 active:scale-90 "+(I===e?"bg-[#3E2723] border-[#3E2723] text-white shadow-lg":"bg-white border-gray-100 text-[#3E2723] hover:border-[#D4AF37] active:bg-[#3E2723] active:text-white active:border-[#3E2723]"),children:e},e))})]}),(0,y.jsxs)("div",{className:"space-y-16 mt-8",children:[R.map(e=>{const t=_.filter(t=>t.category===e);return 0===t.length?null:(0,y.jsxs)("div",{id:`full-${e}`,className:"scroll-mt-52",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,y.jsx)("h3",{className:"text-xl sm:text-2xl font-black text-[#3E2723] uppercase tracking-tighter font-serif",children:e}),(0,y.jsx)("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-[#D4AF37]/30 to-transparent"})]}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>{const t=P(e.id);return(0,y.jsxs)("div",{onClick:()=>{B(e),T(!0)},className:"bg-white rounded-3xl p-3 sm:p-4 flex gap-4 shadow-sm hover:shadow-xl transition-all border border-gray-50 group relative cursor-pointer active:scale-[0.98] font-sans",children:[(0,y.jsxs)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 rounded-2xl overflow-hidden flex-shrink-0",children:[(0,y.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.isVeg&&(0,y.jsx)("div",{className:"absolute top-2 left-2 bg-white/90 p-1 rounded-md border border-green-500",children:(0,y.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"})})]}),(0,y.jsxs)("div",{className:"flex-1 flex flex-col justify-between min-w-0",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,y.jsx)("h4",{className:"font-bold text-[#3E2723] text-base sm:text-lg truncate",children:e.name}),q(e.badge)]}),(0,y.jsx)("p",{className:"text-gray-500 text-xs sm:text-sm line-clamp-2 mb-2",children:e.description})]}),(0,y.jsxs)("div",{className:"flex justify-between items-end",children:[(0,y.jsxs)("span",{className:"text-lg sm:text-xl font-black text-[#3E2723]",children:["₹",e.price]}),0===t?(0,y.jsx)("button",{onClick:t=>{window.navigator.vibrate&&window.navigator.vibrate(15),X(t,e,1)},className:"bg-white border-2 border-[#D4AF37] text-[#3E2723] font-bold px-6 py-1.5 rounded-xl hover:bg-[#D4AF37] transition-all shadow-sm active:scale-90 active:bg-[#3E2723] active:text-white active:border-[#3E2723]",children:"ADD"}):(0,y.jsxs)("div",{className:"flex items-center bg-[#3E2723] text-white rounded-xl p-1 shadow-md",children:[(0,y.jsx)("button",{onClick:s=>{window.navigator.vibrate&&window.navigator.vibrate(10),X(s,e,t-1)},className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:(0,y.jsx)(m.A,{size:18})}),(0,y.jsx)("span",{className:"w-8 text-center font-bold text-sm",children:t}),(0,y.jsx)("button",{onClick:s=>{window.navigator.vibrate&&window.navigator.vibrate(10),X(s,e,t+1)},className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:(0,y.jsx)(u.A,{size:18})})]})]})]}),(0,y.jsx)("button",{onClick:t=>{t.stopPropagation(),B(e),T(!0)},className:"absolute bottom-4 right-4 sm:top-4 sm:right-4 opacity-0 group-hover:opacity-100 transition-opacity p-2 bg-gray-100 rounded-full text-gray-400 hover:text-[#D4AF37] hover:bg-white shadow-sm sm:static sm:mr-[-8px]",children:(0,y.jsx)(h,{size:16})})]},e.id)})})]},e)}),0===_.length&&(0,y.jsxs)("div",{className:"text-center py-20 bg-white rounded-[40px] border-2 border-dashed border-gray-100 flex flex-col items-center",children:[(0,y.jsx)(x.A,{size:48,className:"text-gray-200 mb-4"}),(0,y.jsx)("p",{className:"text-xl font-bold text-[#3E2723]",children:"Nothing here. Like my will to study."}),(0,y.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Try searching for something else!"})]})]})]})}),(0,y.jsx)(w.A,{item:z,isOpen:S,onClose:()=>T(!1)}),(0,y.jsx)("style",{children:"\n                .scrollbar-hide::-webkit-scrollbar { display: none; }\n                .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }\n                "})]})}}}]);
//# sourceMappingURL=59.ce2d81fd.js.map