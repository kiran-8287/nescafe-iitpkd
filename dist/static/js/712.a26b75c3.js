"use strict";(self.webpackChunknescafe_restaurant=self.webpackChunknescafe_restaurant||[]).push([[712],{5637(e,t,a){a.r(t),a.d(t,{default:()=>x});var n=a(6540),r=a(5570),i=a(892),s=a(5773),o=a(7235),l=a(6069),c=a(8635),d={};!function e(t,a,n,r){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s="function"==typeof Path2D&&"function"==typeof DOMMatrix,o=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var n=e.transferToImageBitmap();a.createPattern(n,"no-repeat")}catch(e){return!1}return!0}();function l(){}function c(e){var n=a.exports.Promise,r=void 0!==n?n:t.Promise;return"function"==typeof r?new r(e):(e(l,l),null)}var d,h,f,u,m,p,g,x,b,y,w,v=(d=o,h=new Map,{transform:function(e){if(d)return e;if(h.has(e))return h.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),h.set(e,t),t},clear:function(){h.clear()}}),M=(m=Math.floor(1e3/60),p={},g=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(f=function(e){var t=Math.random();return p[t]=requestAnimationFrame(function a(n){g===n||g+m-1<n?(g=n,delete p[t],e()):p[t]=requestAnimationFrame(a)}),t},u=function(e){p[e]&&cancelAnimationFrame(p[e])}):(f=function(e){return setTimeout(e,m)},u=function(e){return clearTimeout(e)}),{frame:f,cancel:u}),j=(y={},function(){if(x)return x;if(!n&&i){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{x=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("ðŸŽŠ Could not load worker",e),null}!function(e){function t(t,a){e.postMessage({options:t||{},callback:a})}e.init=function(t){var a=t.transferControlToOffscreen();e.postMessage({canvas:a},[a])},e.fire=function(a,n,r){if(b)return t(a,null),b;var i=Math.random().toString(36).slice(2);return b=c(function(n){function s(t){t.data.callback===i&&(delete y[i],e.removeEventListener("message",s),b=null,v.clear(),r(),n())}e.addEventListener("message",s),t(a,i),y[i]=s.bind(null,{data:{callback:i}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),y)y[t](),delete y[t]}}(x)}return x}),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(e,t,a){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:N[t],a)}function k(e){return e<0?0:Math.floor(e)}function E(e,t){return Math.floor(Math.random()*(t-e))+e}function P(e){return parseInt(e,16)}function F(e){return e.map(I)}function I(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:P(t.substring(0,2)),g:P(t.substring(2,4)),b:P(t.substring(4,6))}}function T(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function S(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function A(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function O(e,a){var o,l=!e,d=!!C(a||{},"resize"),h=!1,f=C(a,"disableForReducedMotion",Boolean),u=i&&C(a||{},"useWorker")?j():null,m=l?T:S,p=!(!e||!u||!e.__confetti_initialized),g="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function x(t,a,i){for(var l=C(t,"particleCount",k),d=C(t,"angle",Number),h=C(t,"spread",Number),f=C(t,"startVelocity",Number),u=C(t,"decay",Number),p=C(t,"gravity",Number),g=C(t,"drift",Number),x=C(t,"colors",F),b=C(t,"ticks",Number),y=C(t,"shapes"),w=C(t,"scalar"),j=!!C(t,"flat"),N=function(e){var t=C(e,"origin",Object);return t.x=C(t,"x",Number),t.y=C(t,"y",Number),t}(t),P=l,I=[],T=e.width*N.x,S=e.height*N.y;P--;)I.push(A({x:T,y:S,angle:d,spread:h,startVelocity:f,color:x[P%x.length],shape:y[E(0,y.length)],ticks:b,decay:u,gravity:p,drift:g,scalar:w,flat:j}));return o?o.addFettis(I):(o=function(e,t,a,i,o){var l,d,h=t.slice(),f=e.getContext("2d"),u=c(function(t){function c(){l=d=null,f.clearRect(0,0,i.width,i.height),v.clear(),o(),t()}l=M.frame(function t(){!n||i.width===r.width&&i.height===r.height||(i.width=e.width=r.width,i.height=e.height=r.height),i.width||i.height||(a(e),i.width=e.width,i.height=e.height),f.clearRect(0,0,i.width,i.height),(h=h.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a=t.tick++/t.totalTicks,n=t.x+t.random*t.tiltCos,r=t.y+t.random*t.tiltSin,i=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-a)+")",e.beginPath(),s&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,a,n,r,i,s){var o=new Path2D(e),l=new Path2D;l.addPath(o,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(s)*r,Math.sin(s)*r,-Math.sin(s)*i,Math.cos(s)*i,a,n])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(i-n),.1*Math.abs(o-r),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(i-n),d=.1*Math.abs(o-r),h=t.shape.bitmap.width*t.scalar,f=t.shape.bitmap.height*t.scalar,u=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);u.multiplySelf(new DOMMatrix(t.shape.matrix));var m=e.createPattern(v.transform(t.shape.bitmap),"no-repeat");m.setTransform(u),e.globalAlpha=1-a,e.fillStyle=m,e.fillRect(t.x-h/2,t.y-f/2,h,f),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(i-n)*t.ovalScalar,Math.abs(o-r)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,a,n,r,i,s,o){e.save(),e.translate(t,a),e.rotate(i),e.scale(n,r),e.arc(0,0,1,0,o,void 0),e.restore()}(e,t.x,t.y,Math.abs(i-n)*t.ovalScalar,Math.abs(o-r)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var p=Math.PI/2*3,g=4*t.scalar,x=8*t.scalar,b=t.x,y=t.y,w=5,M=Math.PI/w;w--;)b=t.x+Math.cos(p)*x,y=t.y+Math.sin(p)*x,e.lineTo(b,y),p+=M,b=t.x+Math.cos(p)*g,y=t.y+Math.sin(p)*g,e.lineTo(b,y),p+=M;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(r)),e.lineTo(Math.floor(i),Math.floor(o)),e.lineTo(Math.floor(n),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(f,e)})).length?l=M.frame(t):c()}),d=c});return{addFettis:function(e){return h=h.concat(e),u},canvas:e,promise:u,reset:function(){l&&M.cancel(l),d&&d()}}}(e,I,m,a,i),o.promise)}function b(a){var n=f||C(a,"disableForReducedMotion",Boolean),r=C(a,"zIndex",Number);if(n&&g)return c(function(e){e()});l&&o?e=o.canvas:l&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(r),document.body.appendChild(e)),d&&!p&&m(e);var i={width:e.width,height:e.height};function s(){if(u){var t={getBoundingClientRect:function(){if(!l)return e.getBoundingClientRect()}};return m(t),void u.postMessage({resize:{width:t.width,height:t.height}})}i.width=i.height=null}function b(){o=null,d&&(h=!1,t.removeEventListener("resize",s)),l&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,p=!1)}return u&&!p&&u.init(e),p=!0,u&&(e.__confetti_initialized=!0),d&&!h&&(h=!0,t.addEventListener("resize",s,!1)),u?u.fire(a,i,b):x(a,i,b)}return b.reset=function(){u&&u.reset(),o&&o.reset()},b}function D(){return w||(w=O(null,{useWorker:!0,resize:!0})),w}a.exports=function(){return D().apply(this,arguments)},a.exports.reset=function(){D().reset()},a.exports.create=O,a.exports.shapeFromPath=function(e){if(!s)throw new Error("path confetti are not supported in this browser");var t,a;"string"==typeof e?t=e:(t=e.path,a=e.matrix);var n=new Path2D(t),r=document.createElement("canvas").getContext("2d");if(!a){for(var i,o,l=1e3,c=l,d=l,h=0,f=0,u=0;u<l;u+=2)for(var m=0;m<l;m+=2)r.isPointInPath(n,u,m,"nonzero")&&(c=Math.min(c,u),d=Math.min(d,m),h=Math.max(h,u),f=Math.max(f,m));i=h-c,o=f-d;var p=Math.min(10/i,10/o);a=[p,0,0,p,-Math.round(i/2+c)*p,-Math.round(o/2+d)*p]}return{type:"path",path:t,matrix:a}},a.exports.shapeFromText=function(e){var t,a=1,n="#000000",r='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,r="fontFamily"in e?e.fontFamily:r,n="color"in e?e.color:n);var i=10*a,s=i+"px "+r,o=new OffscreenCanvas(i,i),l=o.getContext("2d");l.font=s;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),h=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),f=c.actualBoundingBoxLeft+2,u=c.actualBoundingBoxAscent+2;d+=4,h+=4,(l=(o=new OffscreenCanvas(d,h)).getContext("2d")).font=s,l.fillStyle=n,l.fillText(t,f,u);var m=1/a;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[m,0,0,m,-d*m/2,-h*m/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),d,!1);const h=d.exports;d.exports.create;var f=a(9605),u=a(8449),m=a(888);const p=a.p+"static/media/coffee.6ee90c22.mp4";var g=a(4848);const x=()=>{const{clearCart:e}=(0,f._)(),t=(0,r.zy)(),[a,d]=n.useState(null),[x,b]=n.useState(!0),{orderId:y,orderMode:w,hostelDetails:v}=t.state||{};(0,n.useEffect)(()=>{if(e(),y){M();const e=u.N.channel(`order-${y}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${y}`},e=>{d(e.new),m.Ay.success(`Order Status: ${e.new.status.toUpperCase()}!`,{icon:"â˜•"})}).subscribe();return()=>{u.N.removeChannel(e)}}const t=Date.now()+2e3,a=()=>{h({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#3E2723","#D4AF37","#FFF8E1"]}),h({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#3E2723","#D4AF37","#FFF8E1"]}),Date.now()<t&&requestAnimationFrame(a)};if(a(),navigator.vibrate)try{navigator.vibrate([10,50,10])}catch(e){}},[y]);const M=async()=>{try{const{data:e,error:t}=await u.N.from("orders").select("*").eq("id",y).single();if(t)throw t;d(e)}catch(e){console.error("Error fetching order:",e)}finally{b(!1)}};return(0,g.jsxs)("div",{className:"min-h-screen bg-[#3E2723] text-[#FAF6F1] flex flex-col items-center justify-center p-6 text-center relative overflow-hidden font-sans",children:[(0,g.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#5D4037 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,g.jsxs)("div",{className:"relative mb-8 z-10",children:[(0,g.jsxs)(i.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:150,damping:15},className:"w-48 h-48 rounded-full overflow-hidden border-4 border-white/20 shadow-2xl relative",children:[(0,g.jsx)("video",{src:p,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-125"}),(0,g.jsx)("div",{className:"absolute inset-0 bg-black/20"})]}),(0,g.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:"absolute -bottom-2 -right-2 w-16 h-16 bg-green-500 rounded-full flex items-center justify-center shadow-xl border-4 border-[#3E2723]",children:(0,g.jsx)(s.A,{size:28,className:"text-white",strokeWidth:4})})]}),(0,g.jsx)(i.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl font-black mb-2 font-serif",children:"Order Confirmed!"}),(0,g.jsx)(i.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-white/80 mb-8 max-w-xs mx-auto font-medium",children:"ready"===a?.status?"Your order is ready! Come get it while it's hot.":"delivered"===a?.status?"Order delivered. Hope it helps you survive the day!":"delivery"===w?"Order placed. Now go touch grass. Just kidding â€” finish that assignment.":"Your order is being prepared. Please collect it from the counter."}),(0,g.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 w-full max-w-sm mb-8 border border-white/10",children:[(0,g.jsxs)("div",{className:"flex justify-between mb-4 pb-4 border-b border-white/10",children:[(0,g.jsx)("span",{className:"text-white/60 text-sm font-bold uppercase tracking-wider",children:"Order ID"}),(0,g.jsxs)("span",{className:"font-mono font-black text-[#D4AF37]",children:["#",y?.slice(0,8).toUpperCase()||"N/A"]})]}),(0,g.jsxs)("div",{className:"flex justify-between mb-4 pb-4 border-b border-white/10",children:[(0,g.jsx)("span",{className:"text-white/60 text-sm font-bold uppercase tracking-wider",children:"Status"}),(0,g.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest "+("ready"===a?.status?"bg-purple-500 text-white shadow-[0_0_15px_rgba(168,85,247,0.5)]":"delivered"===a?.status?"bg-green-500 text-white":"bg-blue-500 text-white animate-pulse"),children:a?.status||"Processing"})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center",children:[(0,g.jsxs)("span",{className:"text-white/60 text-sm font-bold flex items-center gap-2 uppercase tracking-wider",children:[(0,g.jsx)(o.A,{size:16})," Est. Time"]}),(0,g.jsx)("span",{className:"font-black text-[#D4AF37]",children:"delivery"===w?"~20-30 mins":"~10-15 mins"})]}),"delivery"===w&&v&&(0,g.jsxs)("div",{className:"flex justify-between items-start text-left",children:[(0,g.jsxs)("span",{className:"text-white/60 text-sm font-bold flex items-center gap-2 shrink-0 uppercase tracking-wider",children:[(0,g.jsx)(l.A,{size:16})," Delivering To"]}),(0,g.jsxs)("span",{className:"font-black text-white text-right text-sm",children:[v.block,(0,g.jsx)("br",{}),(0,g.jsxs)("span",{className:"text-white/60 font-medium",children:["Room ",v.room]})]})]})]})]}),(0,g.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"flex flex-col gap-4 w-full max-w-sm relative z-10",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)("p",{className:"text-white/60 text-xs font-bold uppercase tracking-widest text-center",children:"Explore some fun facts while your order is being prepared ;)"}),(0,g.jsx)(r.N_,{to:"/fun-facts",className:"w-full bg-[#D4AF37] text-[#3E2723] py-4 rounded-2xl font-black hover:bg-[#c19d2f] transition-all flex items-center justify-center gap-2 shadow-lg active:scale-95",children:"Fun Facts Time!"})]}),(0,g.jsxs)(r.N_,{to:"/",className:"w-full bg-white text-[#3E2723] py-4 rounded-2xl font-black hover:bg-gray-100 transition-all flex items-center justify-center gap-2 shadow-lg active:scale-95",children:["Back to Menu ",(0,g.jsx)(c.A,{size:18})]})]})]})}}}]);
//# sourceMappingURL=712.a26b75c3.js.map